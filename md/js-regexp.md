<< [На главную](../README.md)

# RegExp - регулярные выражения

- [Таблица синтаксиса](https://cheatography.com/davechild/cheat-sheets/regular-expressions/)
- [Онлайн-редактор RegExp](https://regex101.com/)

Конструктор `RegExp` используется для создания объекта регулярного выражения.

- [Спецификация](https://tc39.es/ecma262/#sec-regexp-constructor)
- [Документация MDN](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/RegExp)

---

Навигация:

- [RegExp - регулярные выражения](#regexp---регулярные-выражения)
  - [RegExp : примеры](#regexp--примеры)
    - [1. Символ](#1-символ)
    - [2. Символьные классы](#2-символьные-классы)
    - [3. Позиция внутри строки](#3-позиция-внутри-строки)
    - [4. Альтернатива](#4-альтернатива)
    - [5. Квантификация](#5-квантификация)
    - [6. Жадность](#6-жадность)
    - [7. Группировка. Обратная связь](#7-группировка-обратная-связь)
    - [8. Модификаторы](#8-модификаторы)
    - [9. Просмотр вперед/назад](#9-просмотр-впередназад)
    - [10. Поиск по условию](#10-поиск-по-условию)
    - [11. Флаги](#11-флаги)

---

## RegExp : примеры

### 1. Символ

---

```js
/java/gm; // ==> java
```

| string                                  | matches | groups |
| :-------------------------------------- | :------ | :----- |
| `java` \ python ruby1.9 `java`script c# | 2       | 1      |

---

```js
/javab/gm; // ==> javab
```

| string                              | matches | groups |
| :---------------------------------- | :------ | :----- |
| java \ python ruby1.9 javascript c# | 0       | 0      |

---

```js
/./gm; // ==> [любой символ]
```

| string                                | matches                      | groups |
| :------------------------------------ | :--------------------------- | :----- |
| `java \ python ruby1.9 javascript c#` | 35 : `j` ... `#`             | 1      |
| `java 12_34-5678 tab`<br>`new line`   | 27 : `j` ... `b` `n` ... `e` | 1      |

---

```js
/.y/gm; // ==> [любой символ]y
```

| string                                  | matches | groups |
| :-------------------------------------- | :------ | :----- |
| java \ `py`thon ru`by`1.9 javascript c# | 2       | 1      |

---

```js
/1.9/gm; // ==> 1[любой символ]9
```

| string                                | matches | groups |
| :------------------------------------ | :------ | :----- |
| java \ python ruby`1.9` javascript c# | 1       | 1      |
| java \ python ruby`189` javascript c# | 1       | 1      |
| java \ python ruby`1k9` javascript c# | 1       | 1      |

---

```js
/1\.9/gm; // ==> 1.9
```

| string                                | matches | groups |
| :------------------------------------ | :------ | :----- |
| java \ python ruby`1.9` javascript c# | 1       | 1      |
| java \ python ruby189 javascript c#   | 0       | 0      |
| java \ python ruby1k9 javascript c#   | 0       | 0      |

---

```js
/\\/gm; // ==> \
```

| string                                | matches | groups |
| :------------------------------------ | :------ | :----- |
| java `\` python ruby1d9 javascript c# | 1       | 1      |

---

### 2. Символьные классы

---

```js
/[a-z]/gm; // ==> [латиница](нижний регистр)
```

| string                                  | matches                      | groups |
| :-------------------------------------- | :--------------------------- | :----- |
| `java` 12_34-5678 `tab`<br>`new` `line` | 14 : `j` ... `b` `n` ... `e` | 1      |

---

```js
/[0-9]/gm; // ==> [цифры]
```

| string                                 | matches         | groups |
| :------------------------------------- | :-------------- | :----- |
| java `12`\_`34`-`5678` tab<br>new line | 8 : `1` ... `8` | 1      |

---

```js
/[aj]/gm; // ==> ((a),(j))
```

| string                                | matches             | groups |
| :------------------------------------ | :------------------ | :----- |
| `ja`v`a` 12_34-5678 t`a`b<br>new line | 4 : `j` `a` `a` `a` | 1      |

---

```js
/[^aj]/gm; // ==> [всё, кроме]((a),(j))
```

| string                                  | matches                          | groups |
| :-------------------------------------- | :------------------------------- | :----- |
| ja`v`a` 12_34-5678 t`a`b`<br>`new line` | 24 : `v` ... `b` `⏎` `n` ... `e` | 1      |

---

```js
/[aj-]/gm; // ==> ((a),(j),(-))
```

| string                                  | matches                 | groups |
| :-------------------------------------- | :---------------------- | :----- |
| `ja`v`a` 12_34`-`5678 t`a`b<br>new line | 5 : `j` `a` `a` `-` `a` | 1      |

---

```js
/\d/gm; // ==> [цифры]
```

| string                                 | matches         | groups |
| :------------------------------------- | :-------------- | :----- |
| java `12`\_`34`-`5678` tab<br>new line | 8 : `1` ... `8` | 1      |

---

```js
/\D/gm; // ==> [всё, кроме](цифры)
```

| string                                    | matches                          | groups |
| :---------------------------------------- | :------------------------------- | :----- |
| `java `12`_`34`-`5678` tab`<br>`new line` | 20 : `j` ... `b` `⏎` `n` ... `e` | 1      |

---

```js
/\w/gm; // ==> ((цифры),(латиница),(_))
// равносильно /[0-9a-zA-Z_]/
```

| string                                      | matches                      | groups |
| :------------------------------------------ | :--------------------------- | :----- |
| `java` `12_34`-`5678` `tab`<br>`new` `line` | 23 : `j` ... `b` `n` ... `e` | 1      |

---

```js
/\W/gm; // ==> [всё, кроме]((цифры),(латиница),(_))
```

| string                                  | matches                 | groups |
| :-------------------------------------- | :---------------------- | :----- |
| java` `12_34`-`5678` `tab<br>new` `line | 5 : ` ` `-` ` ` `⏎` ` ` | 1      |

---

### 3. Позиция внутри строки

---

```js
/^java/gm; // ==> [начало строки]java
```

| string                               | matches | groups |
| :----------------------------------- | :------ | :----- |
| `java` ruby clojurescript javascript | 1       | 1      |

---

```js
/script$/gm; // ==> script[конец строки]
```

| string                               | matches | groups |
| :----------------------------------- | :------ | :----- |
| java ruby clojurescript java`script` | 1       | 1      |

---

```js
/a\b/gm; // ==> a[конец слова]
```

| string                           | matches | groups |
| :------------------------------- | :------ | :----- |
| jav`a` jav`a`-script java_script | 2       | 1      |

---

```js
/a\B/gm; // ==> a[не конец слова]
```

| string                                | matches | groups |
| :------------------------------------ | :------ | :----- |
| j`a`va j`a`va-script j`a`v`a`\_script | 4       | 1      |

---

```js
/\bj/gm; // ==> [начало слова]j
```

| string                                 | matches | groups |
| :------------------------------------- | :------ | :----- |
| `j`ava ruby clojurescript `j`avascript | 2       | 1      |

---

```js
/\Bj/gm; // ==> [не начало слова]j
```

| string                                  | matches | groups |
| :-------------------------------------- | :------ | :----- |
| java ruby clo`j`urescript`j` javascript | 2       | 1      |

---

```js
/\Bj\B/gm; // ==> [не начало слова]j[не конец слова]
```

| string                                | matches | groups |
| :------------------------------------ | :------ | :----- |
| java ruby clo`j`urescriptj javascript | 1       | 1      |

---

### 4. Альтернатива

---

```js
/gray|grow/gm; // ==> ((gray),(grow))
```

| string             | matches | groups |
| :----------------- | :------ | :----- |
| `gray` `grow` grey | 2       | 1      |

---

```js
/gr(ay|ow)/gm; // ==> gr((ay),(ow))
```

| string             | matches | groups                        |
| :----------------- | :------ | :---------------------------- |
| `gray` `grow` grey | 2       | 2 : `matches` / gr`ay` gr`ow` |

---

```js
/gr(a|e)y/gm; // ==> gr((a),(e))y
```

| string             | matches | groups                        |
| :----------------- | :------ | :---------------------------- |
| `gray` grow `grey` | 2       | 2 : `matches` / gr`a`y gr`e`y |

---

```js
/gr[ae]y/gm; // ==> gr((a),(e))y
```

| string             | matches | groups |
| :----------------- | :------ | :----- |
| `gray` grow `grey` | 2       | 1      |

---

### 5. Квантификация

---

```js
/colou?/gm; // ==> colo(u)[0-1 раз]
```

| string                                         | matches | groups |
| :--------------------------------------------- | :------ | :----- |
| colr, `colo`r, `colou`r, `colou`ur, `colou`uur | 4       | 1      |

---

```js
/colou?r/gm; // ==> colo(u)[0-1 раз]r
```

| string                                     | matches | groups |
| :----------------------------------------- | :------ | :----- |
| colr, `color`, `colour`, colouur, colouuur | 2       | 1      |

---

```js
/col(ou)?r/gm; // ==> col(ou)[0-1 раз]r
```

| string                                     | matches | groups                   |
| :----------------------------------------- | :------ | :----------------------- |
| `colr`, color, `colour`, colouur, colouuur | 2       | 2 : `matches` / col`ou`r |

---

```js
/col[ou]?r/gm; // ==> col((o),(u))[0-1 раз]r
```

| string                                     | matches | groups |
| :----------------------------------------- | :------ | :----- |
| `colr`, `color`, colour, colouur, colouuur | 2       | 1      |

---

```js
/colou+r/gm; // ==> colo(u)[1+ раз]r
```

| string                                       | matches | groups |
| :------------------------------------------- | :------ | :----- |
| colr, color, `colour`, `colouur`, `colouuur` | 3       | 1      |

---

```js
/colou*r/gm; // ==> colo(u)[0+ раз]r
```

| string                                         | matches | groups |
| :--------------------------------------------- | :------ | :----- |
| colr, `color`, `colour`, `colouur`, `colouuur` | 4       | 1      |

---

```js
/colou{2}r/gm; // ==> colo(u)[2 раза]r
```

| string                                   | matches | groups |
| :--------------------------------------- | :------ | :----- |
| colr, color, colour, `colouur`, colouuur | 1       | 1      |

---

```js
/colou{2,3}r/gm; // ==> colo(u)[2-3 раза]r
```

| string                                                | matches | groups |
| :---------------------------------------------------- | :------ | :----- |
| colr, color, colour, `colouur`, `colouuur`, colouuuur | 2       | 1      |

---

```js
/colou{1,}r/gm; // ==> colo(u)[1+ раз]r
```

| string                                                    | matches | groups |
| :-------------------------------------------------------- | :------ | :----- |
| colr, color, `colour`, `colouur`, `colouuur`, `colouuuur` | 4       | 1      |

---

### 6. Жадность

---

ЖАДНАЯ квантификация:

```js
/<.*>/gm; // ==> <([любой символ])[0+ раз][до последнего](>)>
```

| string                                       | matches | groups |
| :------------------------------------------- | :------ | :----- |
| `<a href="https://www.yandex.ru">google</a>` | 1       | 1      |

---

ЛЕНИВАЯ квантификация:

```js
/<.*?>/gm; // ==> <([любой символ])[0+ раз][до ближайшего](>)>
```

| string                                         | matches | groups |
| :--------------------------------------------- | :------ | :----- |
| `<a href="https://www.yandex.ru">`google`</a>` | 2       | 1      |

---

КОСТЫЛЬ:

```js
/<[^>]*>/gm; // ==> <([всё, кроме](>))[0+ раз]>
```

| string                                         | matches | groups |
| :--------------------------------------------- | :------ | :----- |
| `<a href="https://www.yandex.ru">`google`</a>` | 2       | 1      |

---

```js
/<.?>/gm; // ==> <([любой символ])[0+ раз]>
```

| string                                    | matches | groups |
| :---------------------------------------- | :------ | :----- |
| `<p>`\<div class="url">google\</div>\</p> | 1       | 1      |

---

### 7. Группировка. Обратная связь

---

```js
/(ta|tu)-\1/gm; // ==> ((ta),(tu))-((ta),(tu))[соответственно]
```

| string                | matches | groups                          |
| :-------------------- | :------ | :------------------------------ |
| ta-tu `ta-ta` `tu-tu` | 2       | 2 : `matches` / `ta`-ta `tu`-tu |

---

```js
/(?<group1>ta|tu)-\g<group1>/gm; // ==> (group1=((ta),(tu)))-(group1)
```

| string                  | matches | groups                                  |
| :---------------------- | :------ | :-------------------------------------- |
| `ta-tu` `ta-ta` `tu-tu` | 3       | 2 : `matches` / `ta`-tu `ta`-ta `tu`-tu |

---

```js
/(?<group1>ta|tu)-\k<group1>/gm; // ==> (group1=((ta),(tu)))-(group1)[соответственно]
```

| string                | matches | groups                          |
| :-------------------- | :------ | :------------------------------ |
| ta-tu `ta-ta` `tu-tu` | 2       | 2 : `matches` / `ta`-ta `tu`-tu |

---

Отключение обратной связи:

```js
/(?:ta|tu)-\1/gm; // ==> ((ta),(tu))[откл]-((ta),(tu))[соответственно]
```

| string            | matches | groups |
| :---------------- | :------ | :----- |
| ta-tu ta-ta tu-tu | 0       | 0      |

---

Атомарная группировка:

```js
/a(?>bc|b|x)cc/gm; // ==> a((bc),(b),(x))[без возврата назад]cc
```

| string      | matches | groups |
| :---------- | :------ | :----- |
| abcca`axcc` | 1       | 1      |

1. a(bc)c – не подходит
2. идём дальше -->
3. a – не подходит
4. идём дальше -->
5. a(x)cc – подходит

---

<details>
<summary>Обычная группировка</summary>

```js
/a(bc|b|x)cc/gm; // ==> a((bc),(b),(x))cc
```

| string        | matches | groups                        |
| :------------ | :------ | :---------------------------- |
| `abcc`a`axcc` | 2       | 2 : `matches` / a`b`cc a`x`cc |

1. a(bc)c – не подходит
2. <-- возвращаемся
3. a(b)cc – подходит
4. идём дальше -->
5. a – не подходит
6. идём дальше -->
7. a(x)cc – подходит

</details>

---

### 8. Модификаторы

---

```js
/(?i:t.)-(?:t.)/gm; // ==> [любой регистр](t[любой символ])-(t[любой символ])
```

| string       | matches | groups |
| :----------- | :------ | :----- |
| `ta-tu` ta-t | 1       | 1      |
| `Tu-tu` tu-T | 1       | 1      |
| Tu-Tu tu-T   | 0       | 0      |

---

```js
/(?i:t.)-(?i:t.)/gm; // ==> [любой регистр](t[любой символ])-[любой регистр](t[любой символ])
```

| string       | matches | groups |
| :----------- | :------ | :----- |
| `ta-tu` ta-t | 1       | 1      |
| `Tu-tu` tu-T | 1       | 1      |
| `Tu-Tu` tu-T | 1       | 1      |

---

```js
/(?i)(t.)-(?i)(t.)/gm; // ==> ([любой регистр])(t[любой символ])-([любой регистр])(t[любой символ])
```

| string       | matches | groups                            |
| :----------- | :------ | :-------------------------------- |
| `ta-tu` ta-t | 1       | 3 : `matches` / `ta`-tu / ta-`tu` |
| `Tu-tu` tu-T | 1       | 3 : `matches` / `Tu`-tu / Tu-`tu` |

---

```js
/(?i:t.)-(?si:t.)/gm; // ==> [любой регистр](t[любой символ])-[любой регистр](t[любой символ](включая перенос))
```

| string                         | matches                     | groups |
| :----------------------------- | :-------------------------- | :----- |
| `ta-tu` `ta-t`<br>`Tu-tu` tu-T | 3 : `ta-tu` `ta-t⏎` `Tu-tu` | 1      |

---

```js
/(?-i:t.)-(?is:t.)/gm; // ==> [любой регистр](<-- OFF)(t[любой символ])-[любой регистр](t[любой символ](включая перенос))
```

| string                       | matches             | groups |
| :--------------------------- | :------------------ | :----- |
| `ta-tu` `ta-t`<br>Tu-Tu tu-T | 2 : `ta-tu` `ta-t⏎` | 1      |

---

```js
/(?i:t.)-(?i-s:t.)/gm; // ==> [любой регистр](t[любой символ])-[любой регистр](t[любой символ](включая перенос)(<-- OFF))
```

| string                       | matches             | groups |
| :--------------------------- | :------------------ | :----- |
| `ta-tu` ta-t<br>`Tu-Tu` tu-T | 2 : `ta-tu` `tu-Tu` | 1      |

---

### 9. Просмотр вперед/назад

---

Позитивный просмотр вперёд:

```js
/Ludovic(?=XVI)/gm; // ==> Ludovic[XVI](<-- не включать в результат)
```

| string                                                            | matches | groups |
| :---------------------------------------------------------------- | :------ | :----- |
| LudovicXV, `Ludovic`XVI, `Ludovic`XVIII, LudovicLXVII, LudovicXXL | 2       | 1      |

---

Негативный просмотр вперёд:

```js
/Ludovic(?!XVI)/gm; // ==> Ludovic([всё, кроме](XVI))(<-- не включать в результат)
```

| string                                                                  | matches | groups |
| :---------------------------------------------------------------------- | :------ | :----- |
| `Ludovic`XV, LudovicXVI, LudovicXVIII, `Ludovic`<br>LXVII, `Ludovic`XXL | 3       | 1      |

---

Позитивный просмотр назад:

```js
/(?<=One )Two/gm; // ==> [One ](<-- не включать в результат)Two
```

| string               | matches | groups |
| :------------------- | :------ | :----- |
| One `Two`, Three Two | 1       | 1      |

---

Негативный просмотр назад:

```js
/(?<!One )Two/gm; // ==> ([всё, кроме](One ))(<-- не включать в результат)Two
```

| string               | matches | groups |
| :------------------- | :------ | :----- |
| One Two, Three `Two` | 1       | 1      |

---

### 10. Поиск по условию

---

### 11. Флаги

---

```js
/.../g; // ==> global
```

Поиск всех совпадений  
_по умолчанию: только первое_

---

```js
/.../m; // ==> multi line
```

Функции `^` и `$` сработают на всех перенесённых подстроках  
_по умолчанию: только на всю строку_

---

```js
/.../i; // ==> insensitive
```

Не будет учитываться регистр символов  
_по умолчанию: регистр имеет значение_
